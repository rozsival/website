#!/bin/bash

echo "ğŸš¦ Environment â€“ $VERCEL_ENV"
echo "ğŸ”€ Branch â€“ $VERCEL_GIT_COMMIT_REF"
echo "ğŸ’¬ Message â€“ $VERCEL_GIT_COMMIT_MESSAGE"

if [[ "$VERCEL_GIT_COMMIT_MESSAGE" == *"[skip ci]"* ]]; then
  echo "â© Skipping build"
  exit 0
fi

if [[ "$VERCEL_GIT_COMMIT_REF" == "main" ]]; then
  echo "ğŸŸ¢ Running production build"
  exit 1
fi

if [[ "$VERCEL_GIT_COMMIT_REF" == "develop" ]]; then
  echo "ğŸŸ  Running preview build"
  exit 1
fi

echo "ğŸ”´ Build cancelled"
exit 0
