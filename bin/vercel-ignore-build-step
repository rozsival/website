#!/bin/bash

echo "Environment: $VERCEL_ENV"
echo "Branch: $VERCEL_GIT_COMMIT_REF"
echo "Message: $VERCEL_GIT_COMMIT_MESSAGE"

if [[ "$VERCEL_GIT_COMMIT_MESSAGE" == *"[skip ci]"* ]]; then
  echo "â© â€“ Skipping build"
  exit 0
fi

if [[ "$VERCEL_GIT_COMMIT_REF" == "main" ]]; then
  echo "ğŸŸ¢ â€“ Running production build"
  exit 1
fi

if [[ "$VERCEL_GIT_COMMIT_REF" == "develop" ]]; then
  echo "ğŸŸ  â€“ Running preview build"
  exit 1
fi

echo "ğŸ”´ â€“ Build cancelled"
exit 0
